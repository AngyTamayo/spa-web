{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angy0\\\\Desktop\\\\Spa\\\\web\\\\src\\\\Pages\\\\Inicio.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Home.css';\nimport Axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport Titulo from '../Components/Menu/Titulo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst url = \"http://localhost:3000/inicio\";\nconst cookies = new Cookies();\n\nclass Inicio extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      form: {\n        usuario: '',\n        contra: ''\n      }\n    };\n\n    this.handleChange = async e => {\n      await this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.iniciarSesion = async () => {\n      await Axios.get(url, {\n        params: {\n          usuario: this.state.form.usuario,\n          contra: this.state.form.contra\n        }\n      }).then(response => {\n        return response.data;\n      }).then(response => {\n        if (response.length > 0) {\n          var respuesta = response[0];\n          cookies.set('id', respuesta.id, {\n            path: \"/\"\n          });\n          cookies.set('usuario', respuesta.usuario, {\n            path: \"/\"\n          });\n          cookies.set('contra', respuesta.contra, {\n            path: \"/\"\n          });\n          alert(`Bienvenido ${respuesta.usuario}`);\n          window.location.href = \"./home\";\n        } else {\n          alert('Los datos ingresados son incorrectos...');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (cookies.get('usuario')) {\n      window.location.href = './';\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Titulo, {\n        title: \"ADMINISTRADOR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerPrincipal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerSecudnario\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Usuario: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"usuario\",\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              name: \"contra\",\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => this.iniciarSesion(),\n              children: \"iniciar sesion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Inicio;","map":{"version":3,"sources":["C:/Users/angy0/Desktop/Spa/web/src/Pages/Inicio.js"],"names":["React","Component","Axios","Cookies","Titulo","url","cookies","Inicio","state","form","usuario","contra","handleChange","e","setState","target","name","value","iniciarSesion","get","params","then","response","data","length","respuesta","set","id","path","alert","window","location","href","catch","error","console","log","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Home.css'\r\nimport Axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\nimport Titulo from '../Components/Menu/Titulo'\r\n\r\nconst url = \"http://localhost:3000/inicio\"; \r\nconst cookies = new Cookies();\r\n\r\nclass Inicio extends Component {\r\n    state={\r\n        form:{\r\n            usuario: '',\r\n            contra: ''\r\n        }\r\n    }\r\n\r\n    handleChange=async e=>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    iniciarSesion=async()=>{\r\n        await Axios.get(url, {params: {usuario: this.state.form.usuario, contra: this.state.form.contra}})\r\n        .then(response=>{\r\n            return response.data;\r\n        })\r\n        .then(response=>{\r\n            if(response.length>0){\r\n                var respuesta=response[0];\r\n                cookies.set('id', respuesta.id, {path: \"/\"});\r\n                cookies.set('usuario', respuesta.usuario, {path: \"/\"});\r\n                cookies.set('contra', respuesta.contra, {path: \"/\"});\r\n                alert(`Bienvenido ${respuesta.usuario}`);\r\n                window.location.href=\"./home\";\r\n            }else{\r\n                alert('Los datos ingresados son incorrectos...')\r\n            }\r\n        })\r\n        .catch(error=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(cookies.get('usuario')){\r\n            window.location.href='./';\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n    render(){\r\n        return(\r\n          <>\r\n          <Titulo title=\"ADMINISTRADOR\"></Titulo>\r\n            <div className=\"containerPrincipal\" >\r\n                <div className=\"containerSecudnario\">\r\n                    <div className=\"form-group\">\r\n                        <label>Usuario: </label>\r\n                        <br></br>\r\n                        <input type=\"text\" className=\"form-control\" name=\"usuario\"\r\n                            onChange={this.handleChange}></input>\r\n                        <br></br>\r\n                        <label>Contraseña</label>\r\n                        <br></br>\r\n                        <input type=\"password\" className=\"form-control\" name=\"contra\"\r\n                            onChange={this.handleChange}></input>\r\n                        <br></br>\r\n                        <button className=\"btn btn-primary\" onClick={()=> this.iniciarSesion()}>iniciar sesion</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n</>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Inicio;\r\n"]},"metadata":{},"sourceType":"module"}